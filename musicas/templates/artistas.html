{% extends 'index.html' %}
{% load static %}

{% block title %}
Artistas
{% endblock %}

{% block content %}
<main class="my-12">
    <h2 class="font-bold mb-2 text-4xl">Qual artista você quer ouvir hoje?</h2>
    <div class="flex justify-center gap-8 my-8">
        <button class="btn btn-danger" data-filter>Novos</button>
        <button class="btn btn-danger" data-filter>Favoritos</button>
        <button class="btn btn-danger active" data-filter>Todos</button>
        <button class="btn btn-danger active" data-filter>Assistidos</button>
    </div>
    <div data-container class="hidden">
        <h3 class="font-bold my-8 text-2xl uppercase">Novas tendências</h3>
        <section class="flex flex-wrap gap-8">
            {% for musica in recentes %}
                <div class="text-center">
                    <h2 class="my-2 font-bold text-lg">{{ musica.titulo }}</h2>
                    <a class="transition ease-in-out delay-150 hover:opacity-75" href="{% url 'musica:detalheartista' musica.pk %}">
                        <div class="rounded-full w-60 h-60 bg-cover bg-center border-2 border-slate-800" style="background-image: url('{{ musica.thumb.url }}');">
                        </div>
                    </a>
                </div>
            {% endfor %}
        </section>
    </div>
    <div data-container class="hidden">
     <h3 class="font-bold my-8 text-2xl uppercase ">Mais ouvidos</h3>
     <section class="flex flex-wrap gap-8">
        {% for musica in visualizados %}
        <div class="text-center">
            <h2 class="my-2 font-bold text-lg">{{ musica.titulo }}</h2>
            <a class="transition ease-in-out delay-150 hover:opacity-75"
                href="{% url 'musica:detalheartista' musica.pk %}">
                <div class="rounded-full w-60 h-60 bg-cover bg-center border-2 border-slate-800"
                    style="background-image: url('{{ musica.thumb.url }}');">
                </div>
            </a>
        </div>
        {% endfor %}
    </section>
    </div>
    <div data-container class="inline-block">
    <h3 class="font-bold my-8 text-2xl uppercase ">Todos de A-Z</h3>
    <section class="flex flex-wrap gap-8">
        {% for musica in object_list %}
        <div class="text-center">
            <h2 class="my-2 font-bold text-lg">{{ musica.titulo }}</h2>
            <a class="transition ease-in-out delay-150 hover:opacity-75"
                href="{% url 'musica:detalheartista' musica.pk %}">
                <div class="rounded-full w-60 h-60 bg-cover bg-center border-2 border-slate-800"
                    style="background-image: url('{{ musica.thumb.url }}');">
                </div>
            </a>
        </div>
        {% endfor %}
    </section>
    </div>
     <div data-container class="hidden">
        <h3 class="font-bold my-8 text-2xl uppercase">Assistidos</h3>
        <section class="flex flex-wrap gap-8">
            {% for musica in request.user.musica_visto.all %}
                {% if forloop.counter < 5 %}
                    <div class="text-center">
                        <h2 class="my-2 font-bold text-lg">{{ musica.titulo }}</h2>
                        <a class="transition ease-in-out delay-150 hover:opacity-75" href="{% url 'musica:detalheartista' musica.pk %}">
                            <div class="rounded-full w-60 h-60 bg-cover bg-center border-2 border-slate-800" style="background-image: url('{{ musica.thumb.url }}');">
                            </div>
                        </a>
                    </div>
                {% endif %}
            {% endfor %}
        </section>
    </div>
</main>

    <script src="{% static "js/script.js" %}"></script>
{% endblock %}